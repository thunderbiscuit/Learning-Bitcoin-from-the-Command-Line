<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Verifying your Bitcoin Setup - Learning Bitcoin from the Command Line</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="01_0_Introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="01_1_Introducing_Bitcoin.html"><strong aria-hidden="true">1.1.</strong> Introducing Bitcoin</a></li></ol></li><li class="chapter-item expanded "><a href="02_0_Setting_Up_a_Bitcoin-Core_VPS.html"><strong aria-hidden="true">2.</strong> Setting Up a Bitcoin Core VPS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="02_1_Setting_Up_a_Bitcoin-Core_VPS_with_StackScript.html"><strong aria-hidden="true">2.1.</strong> With Bitcoin Standup</a></li><li class="chapter-item expanded "><a href="02_2_Setting_Up_Bitcoin_Core_Other.html"><strong aria-hidden="true">2.2.</strong> Via Other Means</a></li></ol></li><li class="chapter-item expanded "><a href="03_0_Understanding_Your_Bitcoin_Setup.html"><strong aria-hidden="true">3.</strong> Understanding your Bitcoin Setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="03_1_Verifying_Your_Bitcoin_Setup.html" class="active"><strong aria-hidden="true">3.1.</strong> Verifying your Bitcoin Setup</a></li><li class="chapter-item expanded "><a href="03_2_Knowing_Your_Bitcoin_Setup.html"><strong aria-hidden="true">3.2.</strong> Knowing your Bitcoin Setup</a></li><li class="chapter-item expanded "><a href="03_3__Interlude_Using_Command-Line_Variables.html"><strong aria-hidden="true">3.3.</strong> Interlude: Using Command-Line Variables</a></li><li class="chapter-item expanded "><a href="03_3_Setting_Up_Your_Wallet.html"><strong aria-hidden="true">3.4.</strong> Setting Up Your Wallet</a></li><li class="chapter-item expanded "><a href="03_4_Receiving_a_Transaction.html"><strong aria-hidden="true">3.5.</strong> Receiving a Transaction</a></li><li class="chapter-item expanded "><a href="03_5_Understanding_the_Descriptor.html"><strong aria-hidden="true">3.6.</strong> Understanding the Descriptor</a></li></ol></li><li class="chapter-item expanded "><a href="04_0_Sending_Bitcoin_Transactions.html"><strong aria-hidden="true">4.</strong> Sending Bitcoin Transactions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="04_1_Sending_Coins_The_Easy_Way.html"><strong aria-hidden="true">4.1.</strong> Sending Coins the Easy Way</a></li><li class="chapter-item expanded "><a href="04_2__Interlude_Using_JQ.html"><strong aria-hidden="true">4.2.</strong> Interlude: Using JQ</a></li><li class="chapter-item expanded "><a href="04_2_Creating_a_Raw_Transaction.html"><strong aria-hidden="true">4.3.</strong> Creating a Raw Transaction</a></li><li class="chapter-item expanded "><a href="04_3_Creating_a_Raw_Transaction_with_Named_Arguments.html"><strong aria-hidden="true">4.4.</strong> Creating a Raw Transaction With Named Arguments</a></li><li class="chapter-item expanded "><a href="04_4__Interlude_Using_Curl.html"><strong aria-hidden="true">4.5.</strong> Interlude: Using Curl</a></li><li class="chapter-item expanded "><a href="04_4_Sending_Coins_with_a_Raw_Transaction.html"><strong aria-hidden="true">4.6.</strong> Sending Coins with Raw Transactions</a></li><li class="chapter-item expanded "><a href="04_5_Sending_Coins_with_Automated_Raw_Transactions.html"><strong aria-hidden="true">4.7.</strong> Sending Coins with Automated Raw Transactions</a></li><li class="chapter-item expanded "><a href="04_6_Creating_a_Segwit_Transaction.html"><strong aria-hidden="true">4.8.</strong> Creating a Segwit Transaction</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learning Bitcoin from the Command Line</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="31-verifying-your-bitcoin-setup"><a class="header" href="#31-verifying-your-bitcoin-setup">3.1: Verifying Your Bitcoin Setup</a></h1>
<p>Before you start playing with Bitcoin, you should ensure that everything is setup correctly.</p>
<h2 id="create-your-aliases"><a class="header" href="#create-your-aliases">Create Your Aliases</a></h2>
<p>We suggest creating some aliases to make it easier to use Bitcoin.</p>
<p>You can do so by putting them in your <code>.bash_profile</code>, <code>.bashrc</code> or <code>.profile</code>.</p>
<pre><code>cat &gt;&gt; ~/.bash_profile &lt;&lt;EOF
alias btcdir=&quot;cd ~/.bitcoin/&quot; #linux default bitcoind path
alias bc=&quot;bitcoin-cli&quot;
alias bd=&quot;bitcoind&quot;
alias btcinfo='bitcoin-cli getwalletinfo | egrep &quot;\&quot;balance\&quot;&quot;; bitcoin-cli getnetworkinfo | egrep &quot;\&quot;version\&quot;|connections&quot;; bitcoin-cli getmininginfo | egrep &quot;\&quot;blocks\&quot;|errors&quot;'
EOF
</code></pre>
<p>After you enter these aliases you can either <code>source .bash_profile</code> to input them or just log out and back in.</p>
<p>Note that these aliases includes shortcuts for running <code>bitcoin-cli</code>, for running <code>bitcoind</code>, and for going to the Bitcoin directory. These aliases are mainly meant to make your life easier. We suggest you create other aliases to ease your use of frequent commands (and arguments) and to minimize errors. Aliases of this sort can be even more useful if you have a complex setup where you regularly run commands associated with Mainnet, with Testnet, <em>and</em> with Regtest, as explained further below.</p>
<p>With that said, use of these aliases in <em>this</em> document might accidentally obscure the core lessons being taught about Bitcoin, so the only alias directly used here is <code>btcinfo</code> because it encapsulates  much longer and more complex command. Otherwise, we show the full commands; adjust for your own use as appropriate.</p>
<h2 id="run-bitcoind"><a class="header" href="#run-bitcoind">Run Bitcoind</a></h2>
<p>You'll begin your exploration of the Bitcoin network with the <code>bitcoin-cli</code> command. However, bitcoind <em>must</em> be running to use bitcoin-cli, as bitcoin-cli sends JSON-RPC commands to the bitcoind. If you used our standard setup, bitcoind should already be up and running. You can double check by looking at the process table.</p>
<pre><code>$ ps auxww | grep bitcoind
standup    455  1.3 34.4 3387536 1392904 ?     SLsl Jun16  59:30 /usr/local/bin/bitcoind -conf=/home/standup/.bitcoin/bitcoin.conf
</code></pre>
<p>If it's not running, you'll want to run <code>/usr/local/bin/bitcoind -daemon</code> by hand and also place it in your crontab.</p>
<h2 id="verify-your-blocks"><a class="header" href="#verify-your-blocks">Verify Your Blocks</a></h2>
<p>You should have the whole blockchain downloaded before you start playing. Just run the <code>bitcoin-cli getblockcount</code> alias to see if it's all loaded. </p>
<pre><code>$ bitcoin-cli getblockcount
1772384
</code></pre>
<p>That tells you what's loaded; you'll then need to check that against an online service that tells you the current block height.</p>
<blockquote>
<p>:book: <em><strong>What is Block Height?</strong></em> Block height is the the distance that a particular block is removed from the genesis block. The current block height is the block height of the newest block added to a blockchain.</p>
</blockquote>
<p>You can do this by looking at a blocknet explorer, such as <a href="https://live.blockcypher.com/btc-testnet/">the Blockcypher Testnet explorer</a>. Does its most recent number match your <code>getblockcount</code>? If so, you're up to date.</p>
<p>If you'd like an alias to look at everything at once, the following currently works for Testnet, but may disappear at some time in the future:</p>
<pre><code>$ cat &gt;&gt; ~/.bash_profile &lt;&lt; EOF
alias btcblock=&quot;echo \\\`bitcoin-cli getblockcount 2&gt;&amp;1\\\`/\\\`wget -O - https://blockstream.info/testnet/api/blocks/tip/height 2&gt; /dev/null | cut -d : -f2 | rev | cut -c 1- | rev\\\`&quot;
EOF
$ source .bash_profile 
$ btcblock
1804372/1804372
</code></pre>
<blockquote>
<p>:link: <strong>TESTNET vs MAINNET:</strong> Remember that this tutorial generally assumes that you are using testnet. If you're using the mainnet instead, you can retrieve the current block height with: <code>wget -O - http://blockchain.info/q/getblockcount 2&gt;/dev/null</code>. You can replace the latter half of the <code>btblock</code> alias (after <code>/</code>) with that.</p>
</blockquote>
<p>If you're not up-to-date, but your <code>getblockcount</code> is increasing, no problem. Total download time can take from an hour to several hours, depending on your setup.</p>
<h2 id="optional-know-your-server-types"><a class="header" href="#optional-know-your-server-types">Optional: Know Your Server Types</a></h2>
<blockquote>
<p><strong>TESTNET vs MAINNET:</strong> When you set up your node, you choose to create it as either a Mainnet, Testnet, or Regtest node. Though this document presumes a testnet setup, it's worth understanding how you might access and use the other setup types — even all on the same machine! But, if you're a first-time user, skip on past this, as it's not necessary for a basic setup.</p>
</blockquote>
<p>The type of setup is mainly controlled through the ~/.bitcoin/bitcoin.conf file. If you're running testnet, it probably contains this line:</p>
<pre><code>testnet=1
</code></pre>
<p>If you're running regtest, it probably contains this line:</p>
<pre><code>regtest=1
</code></pre>
<p>However, if you want to run several different sorts of nodes simultaneously, you should leave the testnet (or regtest) flag out of your configuration file. You can then choose whether you're using the mainnet, the testnet, or your regtest every time you run bitcoind or bitcoin-cli.</p>
<p>Here's a set of aliases that would make that easier by creating a specific alias for starting and stopping the bitcoind, for going to the bitcoin directory, and for running bitcoin-cli, for each of the mainnet (which has no extra flags), the testnet (which is -testnet), or your regtest (which is -regtest).</p>
<pre><code>cat &gt;&gt; ~/.bash_profile &lt;&lt;EOF
alias bcstart=&quot;bitcoind -daemon&quot;
alias btstart=&quot;bitcoind -testnet -daemon&quot;
alias brstart=&quot;bitcoind -regtest -daemon&quot;

alias bcstop=&quot;bitcoin-cli stop&quot;
alias btstop=&quot;bitcoin-cli -testnet stop&quot;
alias brstop=&quot;bitcoin-cli -regtest stop&quot;

alias bcdir=&quot;cd ~/.bitcoin/&quot; #linux default bitcoin path
alias btdir=&quot;cd ~/.bitcoin/testnet&quot; #linux default bitcoin testnet path
alias brdir=&quot;cd ~/.bitcoin/regtest&quot; #linux default bitcoin regtest path

alias bc=&quot;bitcoin-cli&quot;
alias bt=&quot;bitcoin-cli -testnet&quot;
alias br=&quot;bitcoin-cli -regtest&quot;
EOF
</code></pre>
<p>For even more complexity, you could have each of your 'start' aliases use the -conf flag to load configuration from a different file. This goes far beyond the scope of this tutorial, but we offer it as a starting point for when your explorations of Bitcoin reaches the next level.</p>
<h2 id="summary-verifying-your-bitcoin-setup"><a class="header" href="#summary-verifying-your-bitcoin-setup">Summary: Verifying Your Bitcoin Setup</a></h2>
<p>Before you start playing with bitcoin, you should make sure that your aliases are set up, your bitcoind is running, and your blocks are downloaded. You may also want to set up some access to alternative Bitcoin setups, if you're an advanced user.</p>
<h2 id="whats-next"><a class="header" href="#whats-next">What's Next?</a></h2>
<p>Continue &quot;Understanding Your Bitcoin Setup&quot; with <a href="03_2_Knowing_Your_Bitcoin_Setup.html">§3.2: Knowing Your Bitcoin Setup</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="03_0_Understanding_Your_Bitcoin_Setup.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="03_2_Knowing_Your_Bitcoin_Setup.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="03_0_Understanding_Your_Bitcoin_Setup.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="03_2_Knowing_Your_Bitcoin_Setup.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
